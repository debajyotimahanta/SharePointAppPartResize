// Generated by CoffeeScript 1.7.1
(function() {
  define(["jquery"], function($) {
    var SharePointAppPartResizer;
    SharePointAppPartResizer = (function() {
      function SharePointAppPartResizer() {}

      SharePointAppPartResizer = function(id) {
        return this.init(id);
      };

      SharePointAppPartResizer.senderId = "";

      SharePointAppPartResizer.prototype.init = function(id) {
        var i, param, params;
        if (document.URL.indexOf('&') <= -1) {
          return;
        }
        params = document.URL.split("?")[1].split("&");
        i = 0;
        while (i < params.length) {
          param = params[i].split("=");
          if (param[0].toLowerCase() === "senderid") {
            this.senderId = decodeURIComponent(param[1]).replace("#", "");
          }
          i = i + 1;
        }
        this.adjustSize(id);
      };

      SharePointAppPartResizer.prototype.adjustSize = function(id) {
        var height, resizeMessage, width;
        width = $("body").width();
        height = $("#" + id).height() + $("#contentRow").css("padding-top").replace("px", "") * 1 + $("#contentRow").css("padding-bottom").replace("px", "") * 1;
        resizeMessage = "<message senderId=" + this.senderId + ">resize(" + width + "," + height + ")</message>";
        window.parent.postMessage(resizeMessage, "*");
      };

      return SharePointAppPartResizer;

    })();
    return SharePointAppPartResizer;
  });

}).call(this);
